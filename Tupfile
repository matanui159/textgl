include config.tup

CC_FLAGS += -Iinc

SRC += src/*.c

: foreach $(SRC) |> !CC |> bin/obj/%B.o {OBJ}
: {OBJ} |> !LD -shared |> bin/libtgl$(LIB_EXT) {LIB}

LD_FLAGS += -Lbin -ltgl

: foreach test/*.c |> !CC |> bin/test/%B.o {TEST}
: {TEST} | {LIB} |> !LD |> bin/test$(BIN_EXT)